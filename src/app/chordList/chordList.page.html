<ng-container *ngIf='!ready'>Loading</ng-container>
<ng-container *ngIf='ready'>

  <ion-header>
    <ion-toolbar>
      <ion-title> Chord for {{instrument}} {{ tuning }}</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-content padding>
    <section>
      <header>
        <h1>Circle of Fifths</h1>
      </header>

      <div class='circle-container'>
        <div class='note'>
          A
          <a class='major' routerLink="/chord/{{ instrument }}/{{ tuning }}/A/major" routerDirection="forward"></a>
          <a class='minor' routerLink="/chord/{{ instrument }}/{{ tuning }}/A/minor" routerDirection="forward"></a>
        </div>

        <div class='note'>
          E
          <a class='major' routerLink="/chord/{{ instrument }}/{{ tuning }}/E/major" routerDirection="forward"></a>
          <a class='minor' routerLink="/chord/{{ instrument }}/{{ tuning }}/E/minor" routerDirection="forward"></a>
        </div>

        <div class='note'>
          B<sup>C♭</sup>
          <a class='major' routerLink="/chord/{{ instrument }}/{{ tuning }}/B/major" routerDirection="forward"></a>
          <a class='minor' routerLink="/chord/{{ instrument }}/{{ tuning }}/B/minor" routerDirection="forward"></a>
        </div>

        <div class='note'>
          <!-- F<sup>♯</sup> -->
          G<sup>♭</sup>
          <a class='major' routerLink="/chord/{{ instrument }}/{{ tuning }}/F♯/major" routerDirection="forward"></a>
          <a class='minor' routerLink="/chord/{{ instrument }}/{{ tuning }}/F♯/minor" routerDirection="forward"></a>
        </div>

        <div class='note'>
          D<sup>♭</sup>
          <!-- C<sup>♯</sup> -->
          <a class='major' routerLink="/chord/{{ instrument }}/{{ tuning }}/D♭/major" routerDirection="forward"></a>
          <a class='minor' routerLink="/chord/{{ instrument }}/{{ tuning }}/D♭/minor" routerDirection="forward"></a>
        </div>

        <div class='note'>
          A<sup>♭</sup>
          <a class='major' routerLink="/chord/{{ instrument }}/{{ tuning }}/A♭/major" routerDirection="forward"></a>
          <a class='minor' routerLink="/chord/{{ instrument }}/{{ tuning }}/A♭/minor" routerDirection="forward"></a>
        </div>

        <div class='note'>
          E<sup>♭</sup>
          <a class='major' routerLink="/chord/{{ instrument }}/{{ tuning }}/E♭/major" routerDirection="forward"></a>
          <a class='minor' routerLink="/chord/{{ instrument }}/{{ tuning }}/E♭/minor" routerDirection="forward"></a>
        </div>

        <div class='note'>
          B<sup>♭</sup>
          <a class='major' routerLink="/chord/{{ instrument }}/{{ tuning }}/B♭/major" routerDirection="forward"></a>
          <a class='minor' routerLink="/chord/{{ instrument }}/{{ tuning }}/B♭/minor" routerDirection="forward"></a>
        </div>

        <div class='note'>
          F
          <a class='major' routerLink="/chord/{{ instrument }}/{{ tuning }}/F/major" routerDirection="forward"></a>
          <a class='minor' routerLink="/chord/{{ instrument }}/{{ tuning }}/F/minor" routerDirection="forward"></a>
        </div>

        <div class='note'>
          C
          <a class='major' routerLink="/chord/{{ instrument }}/{{ tuning }}/C/major" routerDirection="forward"></a>
          <a class='minor' routerLink="/chord/{{ instrument }}/{{ tuning }}/C/minor" routerDirection="forward"></a>
        </div>

        <div class='note'>
          G
          <a class='major' routerLink="/chord/{{ instrument }}/{{ tuning }}/G/major" routerDirection="forward"></a>
          <a class='minor' routerLink="/chord/{{ instrument }}/{{ tuning }}/G/minor" routerDirection="forward"></a>
        </div>

        <div class='note'>
          D
          <a class='major' routerLink="/chord/{{ instrument }}/{{ tuning }}/D/major" routerDirection="forward"></a>
          <a class='minor' routerLink="/chord/{{ instrument }}/{{ tuning }}/D/minor" routerDirection="forward"></a>
        </div>
      </div>
    </section>

    <section>
      <header>
        <h1>Index</h1>
      </header>

      <ion-list lines="none" *ngFor="let note of chordDb[instrument][tuning] | keyvalue">
        <ion-list-header>
          <ion-label>{{note.key}} shapes</ion-label>
        </ion-list-header>

        <ion-item *ngFor="let type of note.value | keyvalue"
          routerLink="/chord/{{ instrument }}/{{ tuning }}/{{ note.key }}/{{ type.key }}" routerDirection="forward">
          <ion-icon slot="start" color="medium" name="musical-notes"></ion-icon>
          <ion-label>{{ type.key }}</ion-label>
        </ion-item>
      </ion-list>
    </section>

  </ion-content>

</ng-container>